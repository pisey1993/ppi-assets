import{a as B,r as C,x as H,c as p,o as i,b as e,p as k,F as $,j as A,t as y,i as R,h as c,v as g,u as o,f as V,w as h,l as U,m as S,e as F,E as j,k as M,d as q,s as K,y as X,g as J,n as I,T as G,q as z}from"./app-BjcaeMij.js";import{_ as W}from"./AuthenticatedLayout-R5Dto_6O.js";/* empty css                                                             */import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DonpqiA1.js";const Y={class:"min-w-full divide-y divide-gray-200 text-sm"},Z={class:"bg-white divide-y divide-gray-200"},ee={class:"px-4 py-2 whitespace-nowrap"},te={class:"px-4 py-2 whitespace-nowrap"},se={class:"px-4 py-2 whitespace-nowrap"},le={class:"px-4 py-2 whitespace-nowrap"},oe={class:"px-4 py-2 whitespace-nowrap space-x-2"},ae=["onClick"],re=["onClick"],ne=["onClick"],de={key:0},ie={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4"},ue={class:"bg-white p-6 rounded shadow-lg w-full max-w-2xl relative"},pe={class:"text-lg font-semibold mb-4"},me={class:"md:col-span-2"},be={class:"col-span-2 flex justify-end space-x-2 mt-4"},ce={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},xe={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4"},fe={class:"bg-white p-6 rounded shadow-lg max-w-sm w-full relative"},ve={class:"flex justify-end space-x-2"},ye={__name:"AssetTransferHistory",props:{transfers:Array,users:Array,locations:Array,asset:Object},setup(u){const _=[...B().url.matchAll(/\/assets\/(\d+)/g)],w=_.length>0?_[_.length-1][1]:"";console.log("Asset ID:",w);const m=C(!1),n=C(!1),b=C(!1),x=C(null),D=u,d=H({id:null,asset_id:"",from_user_id:null,to_user_id:null,from_location:null,to_location:null,transfer_date:"",approved_by:"",reason:"",user_status:""}),t=()=>{d.reset(),n.value=!1,d.asset_id=w,m.value=!0},a=f=>{var l;d.id=f.id,d.asset_id=f.asset_id??((l=D.asset)==null?void 0:l.id)??"",d.from_user_id=f.from_user_id,d.to_user_id=f.to_user_id,d.from_location=f.from_location,d.to_location=f.to_location,d.transfer_date=f.transfer_date,d.approved_by=f.approved_by,d.reason=f.reason,d.user_status=f.user_status,n.value=!0,m.value=!0},L=f=>{x.value=f,b.value=!0},T=()=>{n.value?d.put(route("asset-transfers.update",d.id),{onSuccess:()=>m.value=!1,onError:f=>console.error("Update error:",f)}):d.post(route("asset-transfers.store"),{onSuccess:()=>m.value=!1,onError:f=>console.error("Create error:",f)})},O=()=>{x.value&&d.delete(route("asset-transfers.destroy",x.value),{onSuccess:()=>{b.value=!1,x.value=null},onError:f=>console.error("Delete error:",f)})},P=f=>{const l=`/public/ppi-asset/public/asset-transfers/${f}/print`;window.open(l,"_blank")};return(f,l)=>(i(),p($,null,[e("div",{class:"mb-4 text-right"},[e("button",{onClick:t,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," + Add Transfer ")]),e("table",Y,[l[11]||(l[11]=e("thead",null,[e("tr",{class:"bg-gray-50"},[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Assigned User"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Z,[(i(!0),p($,null,A(u.transfers,s=>{var r,v;return i(),p("tr",{key:s.id},[e("td",ee,y(new Date(s.transfer_date).toLocaleDateString()),1),e("td",te,y(((r=u.users.find(E=>E.id===s.to_user_id))==null?void 0:r.name)||((v=u.users.find(E=>E.id===s.from_user_id))==null?void 0:v.name)||"N/A"),1),e("td",se,y(s.user_status),1),e("td",le,y(s.reason||"-"),1),e("td",oe,[e("button",{onClick:E=>a(s),class:"text-indigo-600 hover:underline"},"Edit",8,ae),e("button",{onClick:E=>L(s.id),class:"text-red-600 hover:underline"},"Delete",8,re),e("button",{onClick:E=>P(s.id),class:"text-green-600 hover:underline"},"Print",8,ne)])])}),128)),u.transfers.length===0?(i(),p("tr",de,l[10]||(l[10]=[e("td",{colspan:"5",class:"px-4 py-2 text-center text-gray-500"},"No transfer history found.",-1)]))):k("",!0)])]),m.value?(i(),p("div",ie,[e("div",ue,[e("h2",pe,y(n.value?"Edit Transfer":"Create Transfer"),1),e("form",{onSubmit:R(T,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[l[12]||(l[12]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Asset ID",-1)),c(e("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>o(d).asset_id=s),class:"border p-2 rounded w-full bg-gray-100",readonly:""},null,512),[[g,o(d).asset_id]])]),e("div",null,[l[14]||(l[14]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"From User",-1)),V(o(j),{modelValue:o(d).from_user_id,"onUpdate:modelValue":l[1]||(l[1]=s=>o(d).from_user_id=s),placeholder:"-- Select User --",filterable:"",clearable:"",class:"w-full"},{default:h(()=>[u.users&&u.users.length>0?(i(!0),p($,{key:0},A(u.users,s=>(i(),U(o(S),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128)):(i(),U(o(S),{key:1,disabled:"",value:""},{default:h(()=>l[13]||(l[13]=[F("No users available")])),_:1,__:[13]}))]),_:1},8,["modelValue"])]),e("div",null,[l[16]||(l[16]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"To User",-1)),V(o(j),{modelValue:o(d).to_user_id,"onUpdate:modelValue":l[2]||(l[2]=s=>o(d).to_user_id=s),placeholder:"-- Select User --",filterable:"",clearable:"",class:"w-full"},{default:h(()=>[u.users&&u.users.length>0?(i(!0),p($,{key:0},A(u.users,s=>(i(),U(o(S),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128)):(i(),U(o(S),{key:1,disabled:"",value:""},{default:h(()=>l[15]||(l[15]=[F("No users available")])),_:1,__:[15]}))]),_:1},8,["modelValue"])]),e("div",null,[l[18]||(l[18]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"From Location",-1)),V(o(j),{modelValue:o(d).from_location,"onUpdate:modelValue":l[3]||(l[3]=s=>o(d).from_location=s),placeholder:"-- Select Location --",filterable:"",clearable:"",class:"w-full"},{default:h(()=>[u.locations&&u.locations.length>0?(i(!0),p($,{key:0},A(u.locations,s=>(i(),U(o(S),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128)):(i(),U(o(S),{key:1,disabled:"",value:""},{default:h(()=>l[17]||(l[17]=[F("No locations available")])),_:1,__:[17]}))]),_:1},8,["modelValue"])]),e("div",null,[l[20]||(l[20]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"To Location",-1)),V(o(j),{modelValue:o(d).to_location,"onUpdate:modelValue":l[4]||(l[4]=s=>o(d).to_location=s),placeholder:"-- Select Location --",filterable:"",clearable:"",class:"w-full"},{default:h(()=>[u.locations&&u.locations.length>0?(i(!0),p($,{key:0},A(u.locations,s=>(i(),U(o(S),{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128)):(i(),U(o(S),{key:1,disabled:"",value:""},{default:h(()=>l[19]||(l[19]=[F("No locations available")])),_:1,__:[19]}))]),_:1},8,["modelValue"])]),e("div",null,[l[21]||(l[21]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Transfer Date",-1)),c(e("input",{"onUpdate:modelValue":l[5]||(l[5]=s=>o(d).transfer_date=s),type:"date",class:"border p-2 rounded w-full"},null,512),[[g,o(d).transfer_date]])]),e("div",null,[l[23]||(l[23]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"User Status",-1)),c(e("select",{"onUpdate:modelValue":l[6]||(l[6]=s=>o(d).user_status=s),class:"border p-2 rounded w-full"},l[22]||(l[22]=[q('<option disabled value="">-- Select Status --</option><option value="available">Available</option><option value="assigned">Assigned</option><option value="repair">Repair</option><option value="retired">Retired</option>',5)]),512),[[M,o(d).user_status]])]),e("div",me,[l[24]||(l[24]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Reason",-1)),c(e("textarea",{"onUpdate:modelValue":l[7]||(l[7]=s=>o(d).reason=s),class:"border p-2 rounded w-full"},null,512),[[g,o(d).reason]])]),e("div",be,[e("button",{type:"button",onClick:l[8]||(l[8]=s=>m.value=!1),class:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"Cancel "),e("button",ce,y(n.value?"Update":"Submit"),1)])],32)])])):k("",!0),b.value?(i(),p("div",xe,[e("div",fe,[l[25]||(l[25]=e("h3",{class:"text-lg font-semibold mb-4"},"Confirm Delete",-1)),l[26]||(l[26]=e("p",{class:"mb-6"},"Are you sure you want to delete this transfer record?",-1)),e("div",ve,[e("button",{onClick:l[9]||(l[9]=s=>b.value=!1),class:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"Cancel"),e("button",{onClick:O,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"},"Delete")])])])):k("",!0)],64))}},ge={class:"p-6 bg-gray-50 min-h-screen max-w-4xl mx-auto"},we={class:"text-3xl font-extrabold text-gray-900 mb-8 text-center"},ke={class:"overflow-x-auto bg-white rounded-xl shadow-lg border border-gray-200"},he={class:"min-w-full divide-y divide-gray-200 text-sm"},Ce={class:"bg-white divide-y divide-gray-200"},_e={class:"px-6 py-4 whitespace-nowrap"},$e={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"px-6 py-4 whitespace-nowrap"},Ue={class:"px-6 py-4 whitespace-nowrap"},Se={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"px-6 py-4 whitespace-nowrap"},De={class:"px-6 py-4 whitespace-nowrap text-center space-x-3"},Ee=["onClick"],Ne=["onClick"],Te={key:0},je={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Re={class:"flex justify-between items-center mb-4"},Fe={class:"text-xl font-semibold"},Ie={key:0,class:"text-red-600 text-sm mt-1"},Me={key:0,class:"text-red-600 text-sm mt-1"},Le={key:0,class:"text-red-600 text-sm mt-1"},Oe={key:0,class:"text-red-600 text-sm mt-1"},Pe={key:0,class:"text-red-600 text-sm mt-1"},ze={key:0,class:"text-red-600 text-sm mt-1"},Be={class:"flex justify-end space-x-4"},He={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},qe={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Ke={__name:"AssetRepairHistory",props:{assetId:{type:Number,required:!0}},setup(u){const N=u,_=C([]),w=C(!1),m=C(!1),n=C(null),b=C({id:null,asset_id:N.assetId,repair_date:"",issue:"",repair_cost:null,status:"",vendor:"",remarks:""}),x=C({}),D=document.querySelector('meta[name="csrf-token"]').getAttribute("content");function d(s){return s?new Date(s).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}async function t(){try{const s=await fetch(`/assets/${N.assetId}/repairs`,{headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Failed to load repairs");_.value=await s.json()}catch(s){console.error(s),alert("Failed to load repairs")}}function a(){b.value={id:null,asset_id:N.assetId,repair_date:"",issue:"",repair_cost:null,status:"",vendor:"",remarks:""},x.value={},w.value=!0}function L(s){b.value={...s},x.value={},w.value=!0}function T(){w.value=!1,x.value={}}async function O(){x.value={};try{let s;if(b.value.id?s=await fetch(`/repairs/${b.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":D},body:JSON.stringify(b.value)}):s=await fetch(`/assets/${N.assetId}/repairs`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":D},body:JSON.stringify(b.value)}),s.ok)await t(),T();else if(s.status===422){const r=await s.json();x.value=r.errors||{}}else throw new Error("Failed to save repair")}catch(s){console.error(s),alert(s.message||"An error occurred")}}function P(s){n.value=s,m.value=!0}function f(){n.value=null,m.value=!1}async function l(){try{if(!(await fetch(`/repairs/${n.value}`,{method:"DELETE",headers:{Accept:"application/json","X-CSRF-TOKEN":D}})).ok)throw new Error("Failed to delete repair");await t(),f()}catch(s){console.error(s),alert(s.message||"Failed to delete repair")}}return K(()=>{t()}),(s,r)=>(i(),p("div",ge,[e("h2",we,"Repair History for Asset #"+y(u.assetId),1),e("div",{class:"flex justify-end mb-6"},[e("button",{onClick:a,class:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition"}," Add New Repair ")]),e("div",ke,[e("table",he,[r[9]||(r[9]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Issue"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cost"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Vendor"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Remarks"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Ce,[(i(!0),p($,null,A(_.value,v=>(i(),p("tr",{key:v.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",_e,y(d(v.repair_date)),1),e("td",$e,y(v.issue||"-"),1),e("td",Ve,y(v.repair_cost??"-"),1),e("td",Ue,y(v.status||"-"),1),e("td",Se,y(v.vendor||"-"),1),e("td",Ae,y(v.remarks||"-"),1),e("td",De,[e("button",{onClick:E=>L(v),class:"text-blue-600 hover:text-blue-800 transition duration-150 ease-in-out focus:outline-none"}," Edit ",8,Ee),e("button",{onClick:E=>P(v.id),class:"text-red-600 hover:text-red-800 transition duration-150 ease-in-out focus:outline-none"}," Delete ",8,Ne)])]))),128)),_.value.length===0?(i(),p("tr",Te,r[8]||(r[8]=[e("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"No repair history found for this asset.",-1)]))):k("",!0)])])]),w.value?(i(),p("div",je,[e("div",{class:"bg-white p-6 rounded-lg max-w-md w-full shadow-lg relative",onClick:r[6]||(r[6]=R(()=>{},["stop"]))},[e("div",Re,[e("h3",Fe,y(b.value.id?"Edit Repair":"Add Repair"),1),e("button",{onClick:T,class:"text-gray-600 hover:text-gray-900"},"×")]),e("form",{onSubmit:R(O,["prevent"]),class:"space-y-4"},[e("div",null,[r[10]||(r[10]=e("label",{class:"block mb-1 font-medium"},"Repair Date",-1)),c(e("input",{type:"date","onUpdate:modelValue":r[0]||(r[0]=v=>b.value.repair_date=v),class:"w-full border px-3 py-2 rounded",required:""},null,512),[[g,b.value.repair_date]]),x.value.repair_date?(i(),p("p",Ie,y(x.value.repair_date[0]),1)):k("",!0)]),e("div",null,[r[11]||(r[11]=e("label",{class:"block mb-1 font-medium"},"Issue",-1)),c(e("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=v=>b.value.issue=v),class:"w-full border px-3 py-2 rounded",maxlength:"255",placeholder:"Issue description"},null,512),[[g,b.value.issue]]),x.value.issue?(i(),p("p",Me,y(x.value.issue[0]),1)):k("",!0)]),e("div",null,[r[12]||(r[12]=e("label",{class:"block mb-1 font-medium"},"Cost",-1)),c(e("input",{type:"number",step:"0.01","onUpdate:modelValue":r[2]||(r[2]=v=>b.value.repair_cost=v),class:"w-full border px-3 py-2 rounded",placeholder:"e.g., 150.00"},null,512),[[g,b.value.repair_cost,void 0,{number:!0}]]),x.value.repair_cost?(i(),p("p",Le,y(x.value.repair_cost[0]),1)):k("",!0)]),e("div",null,[r[13]||(r[13]=e("label",{class:"block mb-1 font-medium"},"Status",-1)),c(e("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=v=>b.value.status=v),class:"w-full border px-3 py-2 rounded",maxlength:"50",placeholder:"e.g., Completed, Pending"},null,512),[[g,b.value.status]]),x.value.status?(i(),p("p",Oe,y(x.value.status[0]),1)):k("",!0)]),e("div",null,[r[14]||(r[14]=e("label",{class:"block mb-1 font-medium"},"Vendor",-1)),c(e("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=v=>b.value.vendor=v),class:"w-full border px-3 py-2 rounded",maxlength:"255",placeholder:"Vendor name"},null,512),[[g,b.value.vendor]]),x.value.vendor?(i(),p("p",Pe,y(x.value.vendor[0]),1)):k("",!0)]),e("div",null,[r[15]||(r[15]=e("label",{class:"block mb-1 font-medium"},"Remarks",-1)),c(e("textarea",{"onUpdate:modelValue":r[5]||(r[5]=v=>b.value.remarks=v),class:"w-full border px-3 py-2 rounded",rows:"3",placeholder:"Additional remarks"},null,512),[[g,b.value.remarks]]),x.value.remarks?(i(),p("p",ze,y(x.value.remarks[0]),1)):k("",!0)]),e("div",Be,[e("button",{type:"button",onClick:T,class:"px-4 py-2 border rounded hover:bg-gray-100"}," Cancel "),e("button",He,y(b.value.id?"Update":"Create"),1)])],32)])])):k("",!0),m.value?(i(),p("div",qe,[e("div",{class:"bg-white p-6 rounded-lg max-w-sm w-full text-center shadow-lg",onClick:r[7]||(r[7]=R(()=>{},["stop"]))},[r[16]||(r[16]=e("h3",{class:"text-xl font-semibold mb-4"},"Confirm Delete",-1)),r[17]||(r[17]=e("p",{class:"mb-6"},"Are you sure you want to delete this repair record?",-1)),e("div",{class:"flex justify-center space-x-4"},[e("button",{onClick:f,class:"px-4 py-2 border rounded hover:bg-gray-100"}," Cancel "),e("button",{onClick:l,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"}," Delete ")])])])):k("",!0)]))}},Xe=Q(Ke,[["__scopeId","data-v-59c65722"]]),Je={class:"max-w-7xl mx-auto p-6 bg-white rounded shadow mt-4"},Ge={class:"mb-6 border-b border-gray-200"},We={class:"flex space-x-6"},Qe={key:0,class:"fixed-center bg-green-600 text-white px-6 py-3 rounded shadow-lg z-50"},Ye=["value"],Ze=["value"],et={class:"md:col-span-3"},tt={class:"md:col-span-3"},st={class:"md:col-span-3 flex justify-between items-center"},lt=["disabled"],it={__name:"Edit",props:{asset:Object,users:Array,locations:Array,categories:Array,transfers:Array,next_id:Number,previous_id:Number},setup(u){var D;const{flash:N}=B().props,_=C(!1),w=C("edit"),m=u,n=H({asset_code:m.asset.asset_code,name:m.asset.name,category:((D=m.asset.category)==null?void 0:D.id)??"",model:m.asset.model,serial_number:m.asset.serial_number,vendor:m.asset.vendor,purchase_date:m.asset.purchase_date,purchase_cost:m.asset.purchase_cost,warranty_expiry:m.asset.warranty_expiry,account_id:m.asset.account_id,status:m.asset.status,current_location_id:m.asset.current_location_id,assigned_to_user_id:m.asset.assigned_to_user_id,notes:m.asset.notes,remark:m.asset.remark}),b=X(()=>n.isDirty),x=()=>{var d;if(!((d=m.asset)!=null&&d.id)){console.error("Asset ID is missing. Cannot submit the form.");return}n.put(route("assets.update",m.asset.id),{preserveScroll:!0,onSuccess:()=>{_.value=!0,setTimeout(()=>{_.value=!1},3e3)},onError:t=>{console.error("Form submission failed:",t),alert("There was an error updating the asset. Please check the fields and try again.")}})};return(d,t)=>(i(),p($,null,[V(o(J),{title:"Edit Asset"}),V(W,null,{header:h(()=>t[19]||(t[19]=[e("h2",{class:"text-xl font-semibold text-gray-800"},"Edit Asset",-1)])),default:h(()=>[e("div",Je,[e("nav",Ge,[e("ul",We,[e("li",null,[e("button",{onClick:t[0]||(t[0]=a=>w.value="edit"),class:I([w.value==="edit"?"border-b-2 border-blue-600 text-blue-600 font-semibold":"text-gray-600 hover:text-blue-600","pb-2"])}," Edit Asset ",2)]),e("li",null,[e("button",{onClick:t[1]||(t[1]=a=>w.value="transfer"),class:I([w.value==="transfer"?"border-b-2 border-blue-600 text-blue-600 font-semibold":"text-gray-600 hover:text-blue-600","pb-2"])}," Transfer History ",2)]),e("li",null,[e("button",{onClick:t[2]||(t[2]=a=>w.value="repair"),class:I([w.value==="repair"?"border-b-2 border-blue-600 text-blue-600 font-semibold":"text-gray-600 hover:text-blue-600","pb-2"])}," Repair History ",2)])])]),e("div",null,[V(G,{name:"fade"},{default:h(()=>[_.value?(i(),p("div",Qe," Asset updated successfully! ")):k("",!0)]),_:1}),c(e("div",null,[e("form",{onSubmit:R(x,["prevent"]),class:"grid grid-cols-1 md:grid-cols-3 gap-6"},[e("div",null,[t[20]||(t[20]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Asset Code",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>o(n).asset_code=a),placeholder:"Asset Code",class:"border p-2 rounded w-full"},null,512),[[g,o(n).asset_code]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Name",-1)),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>o(n).name=a),placeholder:"Name",class:"border p-2 rounded w-full"},null,512),[[g,o(n).name]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Category",-1)),c(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>o(n).category=a),class:"border p-2 rounded w-full"},[t[22]||(t[22]=e("option",{disabled:"",value:""},"-- Select Category --",-1)),(i(!0),p($,null,A(u.categories,a=>(i(),p("option",{key:a.id,value:a.id},y(a.category_name),9,Ye))),128))],512),[[M,o(n).category]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Model",-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>o(n).model=a),placeholder:"Model",class:"border p-2 rounded w-full"},null,512),[[g,o(n).model]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Serial Number",-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>o(n).serial_number=a),placeholder:"Serial Number",class:"border p-2 rounded w-full"},null,512),[[g,o(n).serial_number]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Vendor",-1)),c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>o(n).vendor=a),placeholder:"Vendor",class:"border p-2 rounded w-full"},null,512),[[g,o(n).vendor]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Purchase Date",-1)),c(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>o(n).purchase_date=a),type:"date",class:"border p-2 rounded w-full"},null,512),[[g,o(n).purchase_date]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Purchase Cost",-1)),c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>o(n).purchase_cost=a),type:"number",placeholder:"Cost",class:"border p-2 rounded w-full"},null,512),[[g,o(n).purchase_cost]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Warranty Expiry",-1)),c(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>o(n).warranty_expiry=a),type:"date",class:"border p-2 rounded w-full"},null,512),[[g,o(n).warranty_expiry]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"User Status",-1)),c(e("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>o(n).status=a),class:"border p-2 rounded w-full"},t[30]||(t[30]=[e("option",{disabled:"",value:""},"-- Select User Status --",-1),e("option",{value:"instock"},"In Stock",-1),e("option",{value:"using"},"Using",-1),e("option",{value:"repair"},"Repair",-1),e("option",{value:"broken"},"Broken",-1)]),512),[[M,o(n).status]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Current Location",-1)),c(e("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>o(n).current_location_id=a),class:"border p-2 rounded w-full"},[t[32]||(t[32]=e("option",{disabled:"",value:""},"-- Select Location --",-1)),(i(!0),p($,null,A(u.locations,a=>(i(),p("option",{key:a.id,value:a.id},y(a.name),9,Ze))),128))],512),[[M,o(n).current_location_id]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Assigned User",-1)),V(o(j),{modelValue:o(n).assigned_to_user_id,"onUpdate:modelValue":t[14]||(t[14]=a=>o(n).assigned_to_user_id=a),placeholder:"-- Select Assigned User --",class:"w-full",filterable:""},{default:h(()=>[(i(!0),p($,null,A(u.users,a=>(i(),U(o(S),{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",et,[t[35]||(t[35]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Notes",-1)),c(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=a=>o(n).notes=a),placeholder:"Notes",class:"border p-2 rounded w-full"},null,512),[[g,o(n).notes]])]),e("div",tt,[t[36]||(t[36]=e("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"remark",-1)),c(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=a=>o(n).remark=a),placeholder:"Remark",class:"border p-2 rounded w-full"},null,512),[[g,o(n).remark]])]),e("div",st,[e("div",null,[u.previous_id?(i(),p("button",{key:0,onClick:t[17]||(t[17]=a=>d.$inertia.visit(`/assets/${u.previous_id}/edit`)),type:"button",class:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded mr-2"}," ← Previous ")):k("",!0),u.next_id?(i(),p("button",{key:1,onClick:t[18]||(t[18]=a=>d.$inertia.visit(`/assets/${u.next_id}/edit`)),type:"button",class:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded"}," Next → ")):k("",!0)]),e("button",{type:"submit",class:I(["bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",{"opacity-50 cursor-not-allowed":!b.value}]),disabled:!b.value}," Update ",10,lt)])],32)],512),[[z,w.value==="edit"]]),c(e("div",null,[V(ye,{transfers:u.transfers,users:u.users,locations:u.locations,asset:u.asset},null,8,["transfers","users","locations","asset"])],512),[[z,w.value==="transfer"]]),c(e("div",null,[V(Xe,{asset:u.asset},null,8,["asset"])],512),[[z,w.value==="repair"]])])])]),_:1})],64))}};export{it as default};
